(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("request-form"),r=document.querySelectorAll(".request-form-input"),c=document.getElementById("request-form-name-input"),s=document.getElementById("request-form-phone-input"),t=document.getElementById("request-form-checkbox"),n=document.getElementById("request-form-checkbox-label"),o=document.getElementById("alert-popup");if(e){const a=l=>{l.preventDefault();const i=t.checked,m=Array.from(r).filter(d=>d.value.trim()==="");if(r.forEach(d=>{d.value.trim()===""?d.classList.add("errorValidation","tomatoText"):d.classList.remove("errorValidation","tomatoText")}),i?n.classList.remove("tomatoText"):n.classList.add("tomatoText"),m.length!==0||!i)return!1;const u={name:c.value,phone:s.value,agreementCheck:i};fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(d=>{if(!d.ok)throw new Error("Network response was not ok");return d.json()}).then(()=>{e.reset(),o.style.display="flex",requestAnimationFrame(()=>{o.classList.add("show")})}).catch(d=>{console.error("Ошибка при отправке формы:",d)})};e.addEventListener("submit",a)}});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("alert-popup"),r=document.getElementById("alert-popup-cross");!e||!r||r.addEventListener("click",()=>{e.classList.remove("show"),setTimeout(()=>{e.style.display="none"},400)})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("request-form-phone-input");if(!e)return;e.addEventListener("focus",r),e.addEventListener("input",c),e.addEventListener("blur",()=>{e.value.replace(/\D/g,"").length<11&&(e.value="")});function r(){e.value.replace(/\D/g,"").startsWith("7")||(e.value="+7 "),s(3)}function c(){const t=e.value,n=e.selectionStart;let o=t.replace(/\D/g,"").slice(0,11);o.startsWith("7")||(o="7"+o.replace(/^7*/,""));let a=0;for(let u=0;u<n;u++)/\d/.test(t[u])&&a++;let l="+7 ";o.length>1&&(l+="("+o.slice(1,4)),o.length>=4&&(l+=") "+o.slice(4,7)),o.length>=7&&(l+="-"+o.slice(7,9)),o.length>=9&&(l+="-"+o.slice(9,11)),e.value=l;let i=0,m=0;for(;i<l.length&&m<a;)/\d/.test(l[i])&&m++,i++;i<3&&(i=3),s(i)}function s(t){setTimeout(()=>{e.setSelectionRange(t,t)},0)}});document.addEventListener("DOMContentLoaded",()=>{new Swiper(".swiper",{slidesPerView:"auto",loop:!0,spaceBetween:8,slideToClickedSlide:!0,navigation:{prevEl:".prev-btn",nextEl:".next-btn"}})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("contacts-map");if(!e)return;new IntersectionObserver((c,s)=>{if(c[0].isIntersecting){const t=document.createElement("script");t.src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3A91cfd0d0bbeabc1b1ee9ed5614815ba1207afa4f5719063f96316fd1d52d4ac7&id=contacts-map&width=545&height=447&lang=ru_RU&scroll=false",t.async=!0,document.body.appendChild(t),s.disconnect()}}).observe(e)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".burger-toggle"),r=document.body;e.addEventListener("change",()=>{e.checked?r.classList.add("no-scroll"):r.classList.remove("no-scroll")})});window.addEventListener("load",()=>{const e=document.getElementById("responsiveVideo"),r=document.getElementById("videoSource");function c(){const t=window.innerWidth,n="/Rocont-test/",o=t<=960?`${n}video/video-960px.mp4`:`${n}video/video-1160px.mp4`;r.getAttribute("src")!==o&&(r.src=o,e.load(),e.play().catch(a=>{console.warn("Автовоспроизведение заблокировано:",a)}))}c();let s;window.addEventListener("resize",()=>{clearTimeout(s),s=setTimeout(c,150)})});
